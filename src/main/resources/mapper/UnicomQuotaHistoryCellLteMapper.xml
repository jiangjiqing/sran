<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hongshen.sran_service.dao.UnicomQuotaHistoryCellLteMapper">
  <resultMap id="BaseResultMap" type="com.hongshen.sran_service.entity.UnicomQuotaHistoryCellLte">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="time" jdbcType="TIMESTAMP" property="time" />
    <result column="level" jdbcType="VARCHAR" property="level" />
    <result column="RRC_setup_succ_Rate" jdbcType="VARCHAR" property="rrcSetupSuccRate" />
    <result column="S1_Setup_Succ_Rate" jdbcType="VARCHAR" property="s1SetupSuccRate" />
    <result column="ERAB_Setup_Succ_Rate" jdbcType="VARCHAR" property="erabSetupSuccRate" />
    <result column="paging_Succ_Rate" jdbcType="VARCHAR" property="pagingSuccRate" />
    <result column="Erab_Drop_Rate" jdbcType="VARCHAR" property="erabDropRate" />
    <result column="Within_System_HO_Succ_Rate" jdbcType="VARCHAR" property="withinSystemHoSuccRate" />
    <result column="Cell_Utilization_Rate" jdbcType="VARCHAR" property="cellUtilizationRate" />
    <result column="UL_PRB_Occupy_Rate" jdbcType="VARCHAR" property="ulPrbOccupyRate" />
    <result column="DL_PRB_Occupy_Rate" jdbcType="VARCHAR" property="dlPrbOccupyRate" />
    <result column="Dl_ThroughputRate_Mbps" jdbcType="VARCHAR" property="dlThroughputrateMbps" />
    <result column="Ul_ThroughputRate_Mbps" jdbcType="VARCHAR" property="ulThroughputrateMbps" />
    <result column="DL_User_Speed_Mbps" jdbcType="VARCHAR" property="dlUserSpeedMbps" />
    <result column="UL_User_Speed_Mbps" jdbcType="VARCHAR" property="ulUserSpeedMbps" />
    <result column="UE_SessionTime" jdbcType="VARCHAR" property="ueSessiontime" />
    <result column="Drb_pmSessionTime" jdbcType="VARCHAR" property="drbPmsessiontime" />
    <result column="DL_Active_User_Num" jdbcType="VARCHAR" property="dlActiveUserNum" />
    <result column="UL_Active_User_Num" jdbcType="VARCHAR" property="ulActiveUserNum" />
    <result column="Session_Setup_Success_Rate" jdbcType="VARCHAR" property="sessionSetupSuccessRate" />
  </resultMap>
  <insert id="insert" parameterType="com.hongshen.sran_service.entity.UnicomQuotaHistoryCellLte">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into unicom_quota_history_cell_lte (name, time, level, 
      RRC_setup_succ_Rate, S1_Setup_Succ_Rate, ERAB_Setup_Succ_Rate, 
      paging_Succ_Rate, Erab_Drop_Rate, Within_System_HO_Succ_Rate, 
      Cell_Utilization_Rate, UL_PRB_Occupy_Rate, DL_PRB_Occupy_Rate, 
      Dl_ThroughputRate_Mbps, Ul_ThroughputRate_Mbps, 
      DL_User_Speed_Mbps, UL_User_Speed_Mbps, UE_SessionTime, 
      Drb_pmSessionTime, DL_Active_User_Num, UL_Active_User_Num, 
      Session_Setup_Success_Rate)
    values (#{name,jdbcType=VARCHAR}, #{time,jdbcType=TIMESTAMP}, #{level,jdbcType=VARCHAR}, 
      #{rrcSetupSuccRate,jdbcType=VARCHAR}, #{s1SetupSuccRate,jdbcType=VARCHAR}, #{erabSetupSuccRate,jdbcType=VARCHAR}, 
      #{pagingSuccRate,jdbcType=VARCHAR}, #{erabDropRate,jdbcType=VARCHAR}, #{withinSystemHoSuccRate,jdbcType=VARCHAR}, 
      #{cellUtilizationRate,jdbcType=VARCHAR}, #{ulPrbOccupyRate,jdbcType=VARCHAR}, #{dlPrbOccupyRate,jdbcType=VARCHAR}, 
      #{dlThroughputrateMbps,jdbcType=VARCHAR}, #{ulThroughputrateMbps,jdbcType=VARCHAR}, 
      #{dlUserSpeedMbps,jdbcType=VARCHAR}, #{ulUserSpeedMbps,jdbcType=VARCHAR}, #{ueSessiontime,jdbcType=VARCHAR}, 
      #{drbPmsessiontime,jdbcType=VARCHAR}, #{dlActiveUserNum,jdbcType=VARCHAR}, #{ulActiveUserNum,jdbcType=VARCHAR}, 
      #{sessionSetupSuccessRate,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.hongshen.sran_service.entity.UnicomQuotaHistoryCellLte">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into unicom_quota_history_cell_lte
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="name != null">
        name,
      </if>
      <if test="time != null">
        time,
      </if>
      <if test="level != null">
        level,
      </if>
      <if test="rrcSetupSuccRate != null">
        RRC_setup_succ_Rate,
      </if>
      <if test="s1SetupSuccRate != null">
        S1_Setup_Succ_Rate,
      </if>
      <if test="erabSetupSuccRate != null">
        ERAB_Setup_Succ_Rate,
      </if>
      <if test="pagingSuccRate != null">
        paging_Succ_Rate,
      </if>
      <if test="erabDropRate != null">
        Erab_Drop_Rate,
      </if>
      <if test="withinSystemHoSuccRate != null">
        Within_System_HO_Succ_Rate,
      </if>
      <if test="cellUtilizationRate != null">
        Cell_Utilization_Rate,
      </if>
      <if test="ulPrbOccupyRate != null">
        UL_PRB_Occupy_Rate,
      </if>
      <if test="dlPrbOccupyRate != null">
        DL_PRB_Occupy_Rate,
      </if>
      <if test="dlThroughputrateMbps != null">
        Dl_ThroughputRate_Mbps,
      </if>
      <if test="ulThroughputrateMbps != null">
        Ul_ThroughputRate_Mbps,
      </if>
      <if test="dlUserSpeedMbps != null">
        DL_User_Speed_Mbps,
      </if>
      <if test="ulUserSpeedMbps != null">
        UL_User_Speed_Mbps,
      </if>
      <if test="ueSessiontime != null">
        UE_SessionTime,
      </if>
      <if test="drbPmsessiontime != null">
        Drb_pmSessionTime,
      </if>
      <if test="dlActiveUserNum != null">
        DL_Active_User_Num,
      </if>
      <if test="ulActiveUserNum != null">
        UL_Active_User_Num,
      </if>
      <if test="sessionSetupSuccessRate != null">
        Session_Setup_Success_Rate,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="time != null">
        #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="level != null">
        #{level,jdbcType=VARCHAR},
      </if>
      <if test="rrcSetupSuccRate != null">
        #{rrcSetupSuccRate,jdbcType=VARCHAR},
      </if>
      <if test="s1SetupSuccRate != null">
        #{s1SetupSuccRate,jdbcType=VARCHAR},
      </if>
      <if test="erabSetupSuccRate != null">
        #{erabSetupSuccRate,jdbcType=VARCHAR},
      </if>
      <if test="pagingSuccRate != null">
        #{pagingSuccRate,jdbcType=VARCHAR},
      </if>
      <if test="erabDropRate != null">
        #{erabDropRate,jdbcType=VARCHAR},
      </if>
      <if test="withinSystemHoSuccRate != null">
        #{withinSystemHoSuccRate,jdbcType=VARCHAR},
      </if>
      <if test="cellUtilizationRate != null">
        #{cellUtilizationRate,jdbcType=VARCHAR},
      </if>
      <if test="ulPrbOccupyRate != null">
        #{ulPrbOccupyRate,jdbcType=VARCHAR},
      </if>
      <if test="dlPrbOccupyRate != null">
        #{dlPrbOccupyRate,jdbcType=VARCHAR},
      </if>
      <if test="dlThroughputrateMbps != null">
        #{dlThroughputrateMbps,jdbcType=VARCHAR},
      </if>
      <if test="ulThroughputrateMbps != null">
        #{ulThroughputrateMbps,jdbcType=VARCHAR},
      </if>
      <if test="dlUserSpeedMbps != null">
        #{dlUserSpeedMbps,jdbcType=VARCHAR},
      </if>
      <if test="ulUserSpeedMbps != null">
        #{ulUserSpeedMbps,jdbcType=VARCHAR},
      </if>
      <if test="ueSessiontime != null">
        #{ueSessiontime,jdbcType=VARCHAR},
      </if>
      <if test="drbPmsessiontime != null">
        #{drbPmsessiontime,jdbcType=VARCHAR},
      </if>
      <if test="dlActiveUserNum != null">
        #{dlActiveUserNum,jdbcType=VARCHAR},
      </if>
      <if test="ulActiveUserNum != null">
        #{ulActiveUserNum,jdbcType=VARCHAR},
      </if>
      <if test="sessionSetupSuccessRate != null">
        #{sessionSetupSuccessRate,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>

  <select id="getQuotaLastUpdateTime" resultType="java.util.Date">
    SELECT time
    FROM unicom_quota_history_cell_lte
    ORDER BY time DESC LIMIT 1
  </select>

  <select id="getQuota" resultType="com.alibaba.fastjson.JSONObject">
    SELECT *
    FROM unicom_quota_history_cell_lte
    WHERE name = #{cellName} ORDER BY time DESC LIMIT 1
  </select>

  <select id="getLevel" parameterType="java.lang.String" resultType="com.alibaba.fastjson.JSONObject">
    SELECT level
    FROM unicom_quota_history_cell_lte
    WHERE name = #{cellName} AND time = #{time}
    LIMIT 1
  </select>

  <!--<select id="getLevel" parameterType="java.lang.String" resultType="com.alibaba.fastjson.JSONObject">-->
    <!--SELECT level -->
    <!--FROM unicom_quota_history_cell_wcdma -->
    <!--WHERE time = (SELECT MAX(time) FROM unicom_quota_history_cell_wcdma) and name = #{cellName};-->
  <!--</select>-->

  <insert id="addQuotaHistoryCellList" parameterType="java.util.List">
    INSERT INTO unicom_quota_history_cell_lte
      <foreach close=")" collection="cloumns" index="index" item="cloumn" open="(" separator=",">
        ${cloumn}
      </foreach>
    VALUES
      <foreach collection="valueList" index="index" item="value" separator=",">
        ${value}
      </foreach>
  </insert>

  <select id="getQuotasCell" parameterType="java.util.Date" resultType="com.alibaba.fastjson.JSONObject">
    SELECT *
    FROM unicom_quota_history_cell_lte
    <if test="start!=null and end !=null and condition==null">
      WHERE time  BETWEEN #{start} AND #{end}
    </if>
    <if test="start!=null and end !=null and condition!=null">
      ${condition} AND time  BETWEEN #{start} AND #{end}
    </if>
    <if test="start==null and end ==null and condition!=null">
      ${condition}
    </if>
    ORDER BY time DESC;
  </select>

  <select id="getCellTime" resultType="com.alibaba.fastjson.JSONObject">
    SELECT time FROM unicom_quota_history_cell_lte
    GROUP BY time
  </select>

  <select id="addColumnCell" parameterType="java.lang.String">
    alter table unicom_quota_history_cell_lte add ${formula} varchar(5) Null;
  </select>

  <select id="deleteClumCell" parameterType="java.lang.String">
    alter table unicom_quota_history_cell_lte drop column `${quotaName}`;
  </select>
</mapper>